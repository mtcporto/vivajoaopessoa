!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["wait-for-the-element"]={})}(this,(function(t){"use strict";function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var u=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==u)return;var n,r,o=[],i=!0,F=!1;try{for(u=u.call(t);!(i=(n=u.next()).done)&&(o.push(n.value),!e||o.length!==e);i=!0);}catch(t){F=!0,r=t}finally{try{i||null==u.return||u.return()}finally{if(F)throw r}}return o}(t,e)||u(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){if(t){if("string"==typeof t)return n(t,e);var u=Object.prototype.toString.call(t).slice(8,-1);return"Object"===u&&t.constructor&&(u=t.constructor.name),"Map"===u||"Set"===u?Array.from(t):"Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?n(t,e):void 0}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var u=0,n=new Array(e);u<e;u++)n[u]=t[u];return n}var r=/\.(?:(?:[\x2D0-9A-Z_a-z\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])|\\(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))+/,o=/#(?:(?:[\x2D0-9A-Z_a-z\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])|\\(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))+/,i=/\[[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*((?:(?:\*|[\x2D0-9A-Z_a-z]*)\|)?(?:(?:[\x2D0-9A-Z_a-z\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+))/g,F={};function a(t){var n=F[t];if(n)return n;n=F[t]={attributes:!0,subtree:!0,childList:!0};var a,l=[],c=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=u(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,F=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return F=t.done,t},e:function(t){a=!0,i=t},f:function(){try{F||null==n.return||n.return()}finally{if(a)throw i}}}}(t.matchAll(i));try{for(c.s();!(a=c.n()).done;){var f=e(a.value,2)[1];if(f.startsWith("*")||f.startsWith("|"))return n;l.push(f.replace("|",":"))}}catch(t){c.e(t)}finally{c.f()}return r.test(t)&&l.push("class"),o.test(t)&&l.push("id"),0===l.length?n.attributes=!1:n.attributeFilter=l,n}t.waitForTheElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=e.timeout,n=void 0===u?2500:u,r=e.scope,o=void 0===r?document:r;return new Promise((function(e){var u=o.querySelector(t);if(null===u){var r=null,i=new MutationObserver((function(){var u=o.querySelector(t);null!==u&&(clearTimeout(r),i.disconnect(),e(u))}));i.observe(o,a(t)),r=setTimeout((function(){i.disconnect(),e(null)}),n)}else e(u)}))},t.waitForTheElementToDisappear=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=e.timeout,n=void 0===u?2500:u,r=e.scope,o=void 0===r?document:r;return new Promise((function(e){var u=null;if(null!==o.querySelector(t)){var r=new MutationObserver((function(){null===o.querySelector(t)&&(clearTimeout(u),r.disconnect(),e(!0))}));r.observe(o,a(t)),u=setTimeout((function(){r.disconnect(),e(!1)}),n)}else e(!0)}))},Object.defineProperty(t,"__esModule",{value:!0})}));
