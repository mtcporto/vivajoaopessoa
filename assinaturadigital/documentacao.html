<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentação - Assinatura Digital</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .tech-card {
            transition: transform 0.2s;
            margin-bottom: 20px;
        }
        .tech-card:hover {
            transform: translateY(-5px);
        }
        .flow-step {
            position: relative;
            padding-bottom: 20px;
        }
        .flow-step:not(:last-child):after {
            content: '↓';
            position: absolute;
            bottom: -10px;
            left: 50%;
            font-size: 24px;
            color: #0d6efd;
        }
        pre {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container my-5">
        <h1 class="text-center mb-5">Documentação Técnica - Sistema de Assinatura Digital</h1>

        <div class="alert alert-info" role="alert">
            <h4 class="alert-heading">⚠️ Importante</h4>
            <p>Esta solução utiliza criptografia segura (RSA 2048 bits e SHA-256) para garantir a integridade e autenticidade dos documentos, porém:</p>
            <ul>
                <li>Não é uma assinatura no padrão ICP-Brasil</li>
                <li>Tem validade jurídica limitada conforme MP 2.200-2/2001, Art. 10 § 2º</li>
            </ul>
        </div>

        <!-- Navegação -->
        <nav class="mb-4">
            <div class="nav nav-tabs" id="nav-tab" role="tablist">
                <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#fluxo">Fluxo do Sistema</button>
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#bibliotecas">Bibliotecas</button>
                <button class="nav-link" data-bs-toggle="tab" data-bs-target="#seguranca">Segurança</button>
            </div>
        </nav>

        <div class="tab-content" id="nav-tabContent">
            <!-- Fluxo do Sistema -->
            <div class="tab-pane fade show active" id="fluxo">
                <h3 class="mb-4">Fluxo do Sistema</h3>
                
                <div class="flow-step card p-3 mb-3">
                    <h5>1. Upload do PDF</h5>
                    <p>Usuário faz upload do documento PDF usando a biblioteca pdf-lib para manipulação.</p>
                </div>

                <div class="flow-step card p-3 mb-3">
                    <h5>2. Posicionamento da Assinatura</h5>
                    <p>Interface permite arrastar e redimensionar a área da assinatura no documento.</p>
                </div>

                <div class="flow-step card p-3 mb-3">
                    <h5>3. Geração da Assinatura Digital</h5>
                    <p>Sistema gera par de chaves RSA e assina o hash do documento.</p>
                </div>

                <div class="flow-step card p-3 mb-3">
                    <h5>4. Inserção do QR Code</h5>
                    <p>QR Code com link de validação é gerado e inserido no documento.</p>
                </div>

                <div class="flow-step card p-3 mb-3">
                    <h5>5. Download do PDF Assinado</h5>
                    <p>Documento final com assinatura visual e digital é disponibilizado.</p>
                </div>
            </div>

            <!-- Bibliotecas -->
            <div class="tab-pane fade" id="bibliotecas">
                <h3 class="mb-4">Bibliotecas Utilizadas</h3>

                <div class="row">
                    <div class="col-md-6">
                        <div class="tech-card card">
                            <div class="card-body">
                                <h5 class="card-title">pdf-lib</h5>
                                <h6 class="card-subtitle mb-2 text-muted">Manipulação de PDF</h6>
                                <p class="card-text">Usada para:</p>
                                <ul>
                                    <li>Carregar e modificar PDFs</li>
                                    <li>Inserir imagens (QR Code)</li>
                                    <li>Adicionar texto</li>
                                    <li>Salvar metadados da assinatura</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="tech-card card">
                            <div class="card-body">
                                <h5 class="card-title">jsrsasign</h5>
                                <h6 class="card-subtitle mb-2 text-muted">Criptografia</h6>
                                <p class="card-text">Utilizada para:</p>
                                <ul>
                                    <li>Gerar par de chaves RSA</li>
                                    <li>Criar hash do documento</li>
                                    <li>Assinar digitalmente</li>
                                    <li>Verificar assinaturas</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="tech-card card">
                            <div class="card-body">
                                <h5 class="card-title">QRCode.js</h5>
                                <h6 class="card-subtitle mb-2 text-muted">Geração de QR Code</h6>
                                <p class="card-text">Responsável por:</p>
                                <ul>
                                    <li>Gerar QR Code com link de validação</li>
                                    <li>Criar preview na interface</li>
                                    <li>Gerar imagem para inserção no PDF</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="tech-card card">
                            <div class="card-body">
                                <h5 class="card-title">Bootstrap</h5>
                                <h6 class="card-subtitle mb-2 text-muted">Framework CSS</h6>
                                <p class="card-text">Utilizado para:</p>
                                <ul>
                                    <li>Interface responsiva</li>
                                    <li>Componentes visuais</li>
                                    <li>Estilização consistente</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Segurança -->
            <div class="tab-pane fade" id="seguranca">
                <h3 class="mb-4">Aspectos de Segurança</h3>

                <div class="card mb-4">
                    <div class="card-body">
                        <h5>Assinatura Digital</h5>
                        <p>O processo de assinatura utiliza RSA 2048 bits e inclui:</p>
                        <ul>
                            <li>Geração de par de chaves único para cada assinatura</li>
                            <li>Hash SHA-256 do documento completo</li>
                            <li>Assinatura digital do hash</li>
                            <li>Armazenamento seguro nos metadados do PDF</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <div class="card-body">
                        <h5>Verificação</h5>
                        <p>O processo de verificação inclui:</p>
                        <ul>
                            <li>Extração dos metadados da assinatura</li>
                            <li>Recálculo do hash do documento</li>
                            <li>Verificação da assinatura digital</li>
                            <li>Validação da integridade do documento</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
